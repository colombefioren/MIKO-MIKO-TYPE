<!DOCTYPE html>
<!-- 

Don't forget to :
npx @tailwindcss/cli -i ./src/input.css -o ./public/css/style.css --watch  

-->
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./public/css/cursor.css" />
    <link rel="stylesheet" href="./public/css/font.css" />
    <link rel="stylesheet" href="./public/css/navbar.css" />
    <link rel="stylesheet" href="./public/css/utilities.css" />
    <link rel="stylesheet" href="./public/css/chart.css" />
    <link
      rel="shortcut icon"
      href="./public/assets/images/mikomiko-logo-reduced.svg"
      type="image/x-icon"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="./public/css/style.css" />
    <title>Miko-Miko Type</title>
  </head>

  <body
    class="flex flex-col bg-abyss justify-center items-center min-h-screen prevent-select relative"
  >
    <div
      id="success-share-message"
      class="w-full p-5 absolute top-0 z-20 flex items-center justify-center"
    ></div>

    <!--Navbar-->
    <nav
      class="fixed bg-midnight top-0 left-0 h-full w-[369px] flex flex-col items-center py-5 collapsed z-50"
    >
      <div
        class="bg-blaze rounded-full aspect-square w-12 flex justify-center items-center absolute -right-6 top-10 cursor-pointer hover:scale-110 transition-transform chevron"
      >
        <i class="fa-solid fa-chevron-left text-white text-3xl"></i>
      </div>
      <div class="logo-container absolute">
        <img
          src="./public/assets/images/mikomiko-logo.png"
          alt="Miko-Miko Type Logo"
          class="h-[160px] transition-all duration-300 [transition-timing-function:cubic-bezier(0.25,0.8,0.25,1)] drop-shadow-[0_0_10px_rgba(255,107,53,0.3)] hover:drop-shadow-[0_0_15px_rgba(255,107,53,0.3)]"
        />
      </div>

      <ul
        class="flex flex-col mt-10 gap-6 w-full relative link-container top-[50%] translate-y-[-50%]"
        id="nav-list"
      >
        <!-- Highlight background -->
        <div id="focus-highlight" class="focused-btn-highlight"></div>

        <!-- Navigation buttons -->
        <li class="pl-6 button-links py-[14px] relative">
          <a class="flex text-dusk items-center gap-15" href="#">
            <i class="fa-solid fa-keyboard text-3xl button-icon"></i>
            <div class="text-xl font-bold button-text">Type</div>
          </a>
        </li>
        <li class="pl-6 button-links py-[14px] relative">
          <a
            class="flex text-dusk items-center gap-15"
            href="./pages/profile.html"
          >
            <i class="fa-solid fa-horse text-3xl button-icon"></i>
            <div class="text-xl font-bold button-text">Profile</div>
          </a>
        </li>
        <li class="pl-6 button-links py-[14px] relative">
          <a
            class="flex text-dusk items-center gap-15"
            href="./pages/friends.html"
          >
            <i class="fa-solid fa-users text-[27px] button-icon"></i>
            <div class="text-xl font-bold button-text">Community</div>
          </a>
        </li>
        <li class="pl-6 button-links py-[14px] relative">
          <a
            class="flex text-dusk items-center gap-15"
            href="./pages/boards.html"
          >
            <i class="fa-solid fa-medal text-[34px] button-icon"></i>
            <div class="text-xl font-bold button-text">Boards</div>
          </a>
        </li>
      </ul>
    </nav>
    <header
      class="flex text-white justify-end items-center 2xl:gap-10 gap-6 2xl:p-7 p-5 fixed top-0 left-0 right-0 bg-abyss/80 backdrop-blur-sm z-10"
    >
      <div class="flex 2xl:gap-5 gap-3">
        <img
          src="./public/assets/images/blank-profile.png"
          alt="Profile picture"
          class="2xl:w-12 2xl:h-12 w-10 h-10 rounded-full object-cover"
          id="profile-picture"
        />
        <div id="user-info">
          <div class="flex 2xl:gap-5 gap-3 items-center">
            <p class="font-bold text-subtlegray" id="username">Guest</p>
          </div>
          <p class="text-dusk 2xl:text-base text-sm" id="account-id">
            Not logged in
          </p>
        </div>
      </div>
      <div id="auth-buttons" class="flex 2xl:gap-4 gap-3">
        <button
          id="login-btn"
          class="border border-blaze cursor-pointer text-blaze 2xl:px-6 px-4 2xl:py-2 py-1.5 rounded-sm font-medium hover:bg-frost hover:border-frost hover:text-abyss transition-colors"
        >
          Log In
        </button>
        <button
          id="signup-btn"
          class="bg-blaze cursor-pointer text-midnight 2xl:px-6 px-4 2xl:py-2 py-1.5 rounded-sm font-medium hover:bg-frost transition-colors"
        >
          Sign Up
        </button>
      </div>
      <div id="user-menu" class="hidden">
        <button
          id="logout-btn"
          class="bg-dusk text-white 2xl:px-6 px-4 2xl:py-2 py-1.5 rounded-full font-medium hover:bg-lightmidnight transition-colors cursor-pointer"
        >
          Log Out
        </button>
      </div>
    </header>

    <main
      class="flex flex-col justify-center items-center grow relative"
    >
      <div class="flex flex-col justify-center items-center 2xl:gap-22 gap-16">
        <div
          class="flex items-center 2xl:p-7 p-5 rounded-full bg-gradient-to-r from-crystalMidnight to-midnight 2xl:h-16 h-14 shadow-lg shadow-crystalTwilight/30"
        >
          <div class="w-full">
            <form
              action=""
              id="mode-form"
              class="flex flex-wrap justify-center 2xl:gap-2 gap-1.5 text-white items-center"
            >
              <!-- Difficulty Levels -->
              <label
                for="easy"
                class="mode-option group flex 2xl:gap-3 gap-2 cursor-pointer items-center 2xl:px-4 px-3 2xl:py-2 py-1.5 rounded-full transition-all duration-300 hover:bg-crystalDawn/20"
              >
                <i
                  class="fas fa-seedling text-emerald-300 group-hover:scale-110 transition-transform"
                ></i>
                <input
                  type="radio"
                  name="mode"
                  id="easy"
                  value="easy"
                  class="absolute w-0 h-0 opacity-0"
                  checked
                />
                <span class="font-medium tracking-wide 2xl:text-base text-sm"
                  >Easy</span
                >
              </label>

              <label
                for="medium"
                class="mode-option group flex 2xl:gap-3 gap-2 cursor-pointer items-center 2xl:px-4 px-3 2xl:py-2 py-1.5 rounded-full transition-all duration-300 hover:bg-crystalDawn/20"
              >
                <i
                  class="fas fa-mountain text-amber-400 group-hover:scale-110 transition-transform"
                ></i>
                <input
                  type="radio"
                  name="mode"
                  id="medium"
                  value="medium"
                  class="absolute w-0 h-0 opacity-0"
                />
                <span class="font-medium tracking-wide 2xl:text-base text-sm"
                  >Medium</span
                >
              </label>

              <label
                for="hard"
                class="mode-option group flex 2xl:gap-3 gap-2 cursor-pointer items-center 2xl:px-4 px-3 2xl:py-2 py-1.5 rounded-full transition-all duration-300 hover:bg-crystalDawn/20"
              >
                <i
                  class="fas fa-bolt text-rose-500 group-hover:scale-110 transition-transform"
                ></i>
                <input
                  type="radio"
                  name="mode"
                  id="hard"
                  value="hard"
                  class="absolute w-0 h-0 opacity-0"
                />
                <span class="font-medium tracking-wide 2xl:text-base text-sm"
                  >Hard</span
                >
              </label>

              <!-- Glass Divider -->
              <div
                class="2xl:h-8 h-6 w-[1px] 2xl:mx-2 mx-1.5 bg-white/20 backdrop-blur-sm relative overflow-hidden glass-divider"
              >
                <div
                  class="absolute inset-0 bg-gradient-to-b from-transparent via-white/40 to-transparent animate-shine"
                ></div>
              </div>

              <!-- Content Types -->
              <label
                for="words"
                class="mode-option group flex 2xl:gap-3 gap-2 cursor-pointer items-center 2xl:px-4 px-3 2xl:py-2 py-1.5 rounded-full transition-all duration-300 hover:bg-crystalDawn/20"
              >
                <i
                  class="fas fa-font text-sky-300 group-hover:scale-110 transition-transform"
                ></i>
                <input
                  type="checkbox"
                  name="content-type"
                  id="words"
                  value="words"
                  class="absolute w-0 h-0 opacity-0"
                  checked
                />
                <span class="font-medium tracking-wide 2xl:text-base text-sm"
                  >Words</span
                >
              </label>

              <label
                for="symbols"
                class="mode-option group flex 2xl:gap-3 gap-2 cursor-pointer items-center 2xl:px-4 px-3 2xl:py-2 py-1.5 rounded-full transition-all duration-300 hover:bg-crystalDawn/20"
              >
                <i
                  class="fas fa-asterisk text-teal-300 group-hover:scale-110 transition-transform"
                ></i>
                <input
                  type="checkbox"
                  name="content-type"
                  id="symbols"
                  value="symbols"
                  class="absolute w-0 h-0 opacity-0"
                />
                <span class="font-medium tracking-wide 2xl:text-base text-sm"
                  >Symbols</span
                >
              </label>

              <!-- Glass Divider -->
              <div
                class="2xl:h-8 h-6 w-[1px] 2xl:mx-2 mx-1.5 bg-white/20 backdrop-blur-sm relative overflow-hidden glass-divider"
              >
                <div
                  class="absolute inset-0 bg-gradient-to-b from-transparent via-white/40 to-transparent animate-shine"
                ></div>
              </div>

              <!-- Challenge Modes -->
              <label
                for="numbers"
                class="mode-option group flex 2xl:gap-3 gap-2 cursor-pointer items-center 2xl:px-4 px-3 2xl:py-2 py-1.5 rounded-full transition-all duration-300 hover:bg-crystalDawn/20"
              >
                <i
                  class="fas fa-hashtag text-indigo-300 group-hover:scale-110 transition-transform"
                ></i>
                <input
                  type="checkbox"
                  name="content-type"
                  id="numbers"
                  value="numbers"
                  class="absolute w-0 h-0 opacity-0"
                />
                <span class="font-medium tracking-wide 2xl:text-base text-sm"
                  >Numbers</span
                >
              </label>

              <label
                for="code"
                class="mode-option group flex 2xl:gap-3 gap-2 cursor-pointer items-center 2xl:px-4 px-3 2xl:py-2 py-1.5 rounded-full transition-all duration-300 hover:bg-crystalDawn/20"
              >
                <i
                  class="fas fa-code text-blue-300 group-hover:scale-110 transition-transform"
                ></i>
                <input
                  type="checkbox"
                  name="content-type"
                  id="code"
                  value="code"
                  class="absolute w-0 h-0 opacity-0"
                />
                <span class="font-medium tracking-wide 2xl:text-base text-sm"
                  >Code</span
                >
              </label>
            </form>
          </div>
        </div>
        <div class="relative 2xl:ml-[90px] ml-[90px]">
          <div
            id="pointer-focus"
            class="hidden justify-center items-center text-dusk 2xl:gap-5 gap-3 absolute top-[50%] left-[50%] translate-[-50%] -z-10 w-full h-full 2xl:min-w-2xl min-w-xl"
          >
            <i class="fa-solid fa-arrow-pointer"></i>
            <p>Click here or press any key to focus</p>
          </div>
          <div id="text-field" class="relative 2xl:px-16 px-10">
            <input
              class="border border-slate-300 text-white w-full h-full absolute top-0 left-0 right-0 z-10 opacity-0"
              type="text"
              id="input-field"
              autofocus
              autocomplete="off"
              autocomplete="false"
            />
            <p
              class="text-textPrimary 2xl:leading-[70px] leading-[50px] 2xl:tracking-[2px] tracking-[1.5px]"
              id="word-display"
            ></p>
            <div
              id="typing-cursor"
              class="absolute 2xl:h-10 h-8 w-0.5 bg-white blink"
            ></div>
          </div>
        </div>
      </div>
      <!-- Footer -->
      <div
        class="2xl:p-6 p-4 text-center text-dusk absolute 2xl:bottom-20 bottom-16 2xl:text-sm text-xs 2xl:space-y-5 space-y-3"
      >
        <p>
          <span class="bg-lightabyss p-1 rounded">Tab</span> - restart the test
        </p>
        <p>
          <span class="bg-lightabyss p-1 rounded">Ctrl</span> +
          <span class="bg-lightabyss p-1 rounded">Esc</span> - toggle the navbar
        </p>
      </div>
      <footer
        class="2xl:p-6 p-4 text-center text-dusk border-t border-lightabyss absolute bottom-0 2xl:text-xs text-[10px]"
      >
        <p>© 2025 Miko-Miko Type. All rights reserved.</p>
      </footer>
    </main>
    <!-- Login Modal -->
    <div
      id="login-modal"
      class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden"
    >
      <div
        class="bg-midnight rounded-xl 2xl:p-8 p-6 w-full 2xl:max-w-md max-w-sm border border-lightabyss"
      >
        <div class="flex justify-between items-center 2xl:mb-6 mb-4">
          <h2 class="2xl:text-2xl text-xl font-bold text-white">
            Welcome Back
          </h2>
          <button
            id="close-login-modal"
            class="text-dusk hover:text-white cursor-pointer"
          >
            <i class="fas fa-times 2xl:text-xl text-lg"></i>
          </button>
        </div>

        <form id="login-form" class="2xl:space-y-4 space-y-3">
          <div>
            <label
              for="login-email"
              class="block 2xl:text-sm text-xs font-medium text-slate-200 mb-1"
              >Email</label
            >
            <input
              type="email"
              id="login-email"
              required
              class="w-full bg-abyss border border-lightabyss rounded-lg 2xl:px-4 px-3 2xl:py-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blaze"
            />
          </div>

          <div>
            <label
              for="login-password"
              class="block 2xl:text-sm text-xs font-medium text-slate-200 mb-1"
              >Password</label
            >
            <input
              type="password"
              id="login-password"
              required
              class="w-full bg-abyss border border-lightabyss rounded-lg 2xl:px-4 px-3 2xl:py-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blaze"
            />
          </div>

          <button
            type="submit"
            class="w-full bg-blaze text-white 2xl:py-3 py-2 rounded-lg font-medium hover:bg-frost hover:text-abyss hover:cursor-pointer transition-colors 2xl:mt-5 mt-4"
          >
            Log In
          </button>

          <div class="text-center text-dusk 2xl:text-sm text-xs">
            Don't have an account?
            <button
              type="button"
              id="switch-to-signup"
              class="text-blaze hover:text-frost hover:cursor-pointer hover:underline"
            >
              Sign up
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Signup Modal -->
    <div
      id="signup-modal"
      class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden"
    >
      <div
        class="bg-midnight rounded-xl 2xl:p-8 p-6 w-full 2xl:max-w-md max-w-sm border border-lightabyss"
      >
        <div class="flex justify-between items-center 2xl:mb-6 mb-4">
          <h2 class="2xl:text-2xl text-xl font-bold text-white">
            Create Account
          </h2>
          <button
            id="close-signup-modal"
            class="text-dusk hover:text-white cursor-pointer"
          >
            <i class="fas fa-times 2xl:text-xl text-lg"></i>
          </button>
        </div>

        <form id="signup-form" class="2xl:space-y-4 space-y-3">
          <div>
            <label
              for="signup-email"
              class="block 2xl:text-sm text-xs font-medium text-slate-200 mb-1"
              >Email</label
            >
            <input
              type="email"
              id="signup-email"
              required
              class="w-full bg-abyss border border-lightabyss rounded-lg 2xl:px-4 px-3 2xl:py-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blaze"
            />
          </div>

          <div>
            <label
              for="signup-password"
              class="block 2xl:text-sm text-xs font-medium text-slate-200 mb-1"
              >Password</label
            >
            <input
              type="password"
              id="signup-password"
              required
              class="w-full bg-abyss border border-lightabyss rounded-lg 2xl:px-4 px-3 2xl:py-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blaze"
            />
          </div>

          <div>
            <label
              for="signup-username"
              class="block 2xl:text-sm text-xs font-medium text-slate-200 mb-1"
              >Display Name</label
            >
            <input
              type="text"
              id="signup-username"
              required
              class="w-full bg-abyss border border-lightabyss rounded-lg 2xl:px-4 px-3 2xl:py-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blaze"
            />
          </div>

          <button
            type="submit"
            class="w-full bg-blaze text-white 2xl:py-3 py-2 rounded-lg font-medium hover:bg-frost hover:text-abyss hover:cursor-pointer transition-colors 2xl:mt-5 mt-4"
          >
            Sign Up
          </button>

          <div class="text-center text-dusk 2xl:text-sm text-xs">
            Already have an account?
            <button
              type="button"
              id="switch-to-login"
              class="text-blaze hover:text-frost hover:cursor-pointer hover:underline"
            >
              Log in
            </button>
          </div>
        </form>
      </div>
    </div>

    <!--results share-->
    <div
      id="results-to-share"
      class="bg-abyss hidden absolute w-full z-50 text-white h-full flex-col items-center justify-center 2xl:p-4 p-3"
    >
      <div
        class="bg-midnight rounded-xl 2xl:p-8 p-6 border border-lightabyss shadow-lg flex flex-col justify-between w-[95%]"
      >
        <h1 class="2xl:text-2xl text-xl font-bold text-center 2xl:mb-6 mb-4">
          Your Typing Results
        </h1>

        <div class="2xl:mb-6 mb-4 2xl:h-[500px] h-[400px] w-full">
          <div class="chart-container h-full">
            <canvas id="results-chart"></canvas>
          </div>
        </div>

        <div class="text-center 2xl:mb-8 mb-6">
          <div
            class="2xl:text-5xl text-4xl font-bold text-blaze mb-2"
            id="results-wpm"
          >
            0
          </div>
          <div class="2xl:text-lg text-base">Words Per Minute</div>
        </div>

        <div class="flex 2xl:gap-10 gap-8 2xl:mb-8 mb-6 w-full justify-center">
          <div class="text-center">
            <div class="2xl:text-2xl text-xl font-bold" id="results-accuracy">
              0%
            </div>
            <div class="2xl:text-sm text-xs text-dusk">Accuracy</div>
          </div>
          <div class="text-center">
            <div class="2xl:text-2xl text-xl font-bold" id="results-difficulty">
              Easy
            </div>
            <div class="2xl:text-sm text-xs text-dusk">Difficulty</div>
          </div>
        </div>

        <div class="flex items-center justify-center w-full 2xl:gap-10 gap-6">
          <button
            id="share-results-btn"
            class="w-[30%] bg-blaze text-white 2xl:py-3 py-2 rounded-lg font-medium hover:bg-frost hover:text-abyss transition-colors cursor-pointer"
          >
            <i class="fas fa-share mr-2"></i> Share Results
          </button>

          <button
            id="try-again-btn"
            class="w-[30%] border border-blaze text-blaze cursor-pointer 2xl:py-3 py-2 rounded-lg font-medium hover:bg-frost hover:border-frost hover:text-abyss transition-colors"
          >
            Try Again
          </button>
        </div>

        <div
          id="login-prompt"
          class="hidden 2xl:mt-4 mt-3 2xl:p-3 p-2 bg-abyss rounded-lg text-center"
        >
          <p class="2xl:text-sm text-xs">
            You need to log in to share your results
          </p>
          <button
            id="login-redirect-btn"
            class="text-blaze hover:underline 2xl:mt-2 mt-1 cursor-pointer"
          >
            Log In Now
          </button>
        </div>
      </div>
    </div>

    <!--notif-->

    <div
      id="notification-result"
      class="fixed 2xl:top-10 top-8 w-full items-end justify-center hidden z-50"
    >
      <div
        id="notification-text"
        class="2xl:px-6 px-4 2xl:py-4 py-3 rounded-lg shadow-lg 2xl:text-lg text-base text-white font-medium 2xl:max-w-xs max-w-[250px] text-center"
      >
        <p id="notification-message-result"></p>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

    <!-- <script src="./public/js/chartUtils.js"></script> -->

    <script type="module" src="./public/js/gameLogic.js"></script>

    <script src="./public/js/navbar.js"></script>

    <script type="module" src="./public/js/login.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/@tsparticles/confetti@3.0.3/tsparticles.confetti.bundle.min.js"></script>
  </body>
</html>
